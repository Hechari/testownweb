#character-container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 800;
    filter: drop-shadow(0 0 20px rgba(0, 255, 255, 0.5));
}

#fethi-character {
    width: 48px;
    height: 48px;
    background-size: cover;
    image-rendering: pixelated;
    position: relative;
}

/* Character States with proper sprite animations */
.character-idle {
    animation: idle-breathing 2s ease-in-out infinite;
    background-image: url('../assets/character/breathing-idle/frame_0.png');
}

.character-crouching {
    animation: crouch-animation 0.5s steps(5) forwards;
    background-image: url('../assets/character/crouching/frame_0.png');
}

.character-backflip-east {
    animation: backflip-east 0.8s steps(10) forwards;
    background-image: url('../assets/character/backflip/east/frame_0.png');
}

.character-backflip-west {
    animation: backflip-west 0.8s steps(10) forwards;
    background-image: url('../assets/character/backflip/west/frame_0.png');
}

/* Fallback styles if sprites don't load */
#fethi-character:before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #00ffff;
    border: 2px solid #0088ff;
    border-radius: 4px;
    box-shadow: 0 0 20px #00ffff;
    z-index: -1;
    opacity: 0.3;
}

/* Animation Keyframes */
@keyframes idle-breathing {
    0% { 
        background-image: url('../assets/character/breathing-idle/frame_0.png');
        transform: translateY(0px);
    }
    25% { 
        background-image: url('../assets/character/breathing-idle/frame_1.png');
        transform: translateY(-1px);
    }
    50% { 
        background-image: url('../assets/character/breathing-idle/frame_2.png');
        transform: translateY(0px);
    }
    75% { 
        background-image: url('../assets/character/breathing-idle/frame_3.png');
        transform: translateY(1px);
    }
    100% { 
        background-image: url('../assets/character/breathing-idle/frame_0.png');
        transform: translateY(0px);
    }
}

@keyframes crouch-animation {
    0% { 
        background-image: url('../assets/character/crouching/frame_0.png');
        transform: scale(1);
    }
    20% { 
        background-image: url('../assets/character/crouching/frame_1.png');
        transform: scale(0.9);
    }
    40% { 
        background-image: url('../assets/character/crouching/frame_2.png');
        transform: scale(0.8);
    }
    60% { 
        background-image: url('../assets/character/crouching/frame_3.png');
        transform: scale(0.8);
    }
    80% { 
        background-image: url('../assets/character/crouching/frame_4.png');
        transform: scale(0.9);
    }
    100% { 
        background-image: url('../assets/character/crouching/frame_0.png');
        transform: scale(1);
    }
}

@keyframes backflip-east {
    0% { 
        background-image: url('../assets/character/backflip/east/frame_0.png');
        transform: translateX(0) rotate(0deg);
    }
    10% { 
        background-image: url('../assets/character/backflip/east/frame_1.png');
        transform: translateX(5px) rotate(36deg);
    }
    20% { 
        background-image: url('../assets/character/backflip/east/frame_2.png');
        transform: translateX(10px) rotate(72deg);
    }
    30% { 
        background-image: url('../assets/character/backflip/east/frame_3.png');
        transform: translateX(15px) rotate(108deg);
    }
    40% { 
        background-image: url('../assets/character/backflip/east/frame_4.png');
        transform: translateX(20px) rotate(144deg);
    }
    50% { 
        background-image: url('../assets/character/backflip/east/frame_5.png');
        transform: translateX(25px) rotate(180deg);
    }
    60% { 
        background-image: url('../assets/character/backflip/east/frame_6.png');
        transform: translateX(20px) rotate(216deg);
    }
    70% { 
        background-image: url('../assets/character/backflip/east/frame_7.png');
        transform: translateX(15px) rotate(252deg);
    }
    80% { 
        background-image: url('../assets/character/backflip/east/frame_8.png');
        transform: translateX(10px) rotate(288deg);
    }
    90% { 
        background-image: url('../assets/character/backflip/east/frame_9.png');
        transform: translateX(5px) rotate(324deg);
    }
    100% { 
        background-image: url('../assets/character/backflip/east/frame_0.png');
        transform: translateX(0) rotate(360deg);
    }
}

@keyframes backflip-west {
    0% { 
        background-image: url('../assets/character/backflip/west/frame_0.png');
        transform: translateX(0) rotate(0deg);
    }
    10% { 
        background-image: url('../assets/character/backflip/west/frame_1.png');
        transform: translateX(-5px) rotate(-36deg);
    }
    20% { 
        background-image: url('../assets/character/backflip/west/frame_2.png');
        transform: translateX(-10px) rotate(-72deg);
    }
    30% { 
        background-image: url('../assets/character/backflip/west/frame_3.png');
        transform: translateX(-15px) rotate(-108deg);
    }
    40% { 
        background-image: url('../assets/character/backflip/west/frame_4.png');
        transform: translateX(-20px) rotate(-144deg);
    }
    50% { 
        background-image: url('../assets/character/backflip/west/frame_5.png');
        transform: translateX(-25px) rotate(-180deg);
    }
    60% { 
        background-image: url('../assets/character/backflip/west/frame_6.png');
        transform: translateX(-20px) rotate(-216deg);
    }
    70% { 
        background-image: url('../assets/character/backflip/west/frame_7.png');
        transform: translateX(-15px) rotate(-252deg);
    }
    80% { 
        background-image: url('../assets/character/backflip/west/frame_8.png');
        transform: translateX(-10px) rotate(-288deg);
    }
    90% { 
        background-image: url('../assets/character/backflip/west/frame_9.png');
        transform: translateX(-5px) rotate(-324deg);
    }
    100% { 
        background-image: url('../assets/character/backflip/west/frame_0.png');
        transform: translateX(0) rotate(-360deg);
    }
}